{% extends "tasks/base.html" %}
{% block title %}Task List{% endblock %}
{% block content %}
<h2>Welcome, {{ request.user.username }}</h2>
<div class="mb-3"><a class="btn btn-success" href="{% url 'task_create' %}">Create Task</a></div>
<form method="GET" class="mb-3">
<div class="input-group">
<input type="text" name="search" value="{{ search }}" class="form-control" placeholder="Search tasks...">
<button class="btn btn-outline-secondary" type="submit">Search</button>
</div>
</form>
<table class="table table-striped">
<thead><tr><th>Title</th><th>Description</th><th>Completed</th><th>Actions</th></tr></thead>
<tbody>
{% for task in tasks %}
<tr>
<td>{{ task.title }}</td>
<td>{{ task.description }}</td>
<td>{{ task.completed }}</td>
<td>
<a class="btn btn-sm btn-primary" href="{% url 'task_update' task.id %}">Edit</a>
<a class="btn btn-sm btn-danger" href="{% url 'task_delete' task.id %}">Delete</a>
</td>
</tr>
{% empty %}
<tr><td colspan="4">No tasks found.</td></tr>
{% endfor %}
</tbody>
</table>
{% endblock %}
